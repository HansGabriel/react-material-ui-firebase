(window["webpackJsonpreact-material-ui-firebase"]=window["webpackJsonpreact-material-ui-firebase"]||[]).push([[0],{175:function(e,a,t){e.exports=t(216)},181:function(e,a,t){},216:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(16),o=t.n(i),l=(t(180),t(181),t(12)),s=t(11),c=t(13),m=t(14),d=t(15),u=t(122),p=t.n(u),h=t(287),f=t(291),g=t(263),v=t(286),E=t(48);t(183),t(184),t(186),t(217),t(189);E.initializeApp({apiKey:"AIzaSyDYZOrZVpXkPQD6J31mb9t2eIIxmGEJK-Q",authDomain:"react-material-ui-firebase.firebaseapp.com",databaseURL:"https://react-material-ui-firebase.firebaseio.com",projectId:"react-material-ui-firebase",storageBucket:"react-material-ui-firebase.appspot.com",messagingSenderId:"552659850812",appId:"1:552659850812:web:d685f74f72161d96",measurementId:"G-LYJ69M3CEC"});var b=E,y=E.analytics(),C=E.auth(),w=E.firestore(),A=E.storage(),S=(E.performance(),["image/gif","image/jpeg","image/png","image/webp","image/svg+xml"]),k={signUp:function(e){return new Promise(function(a,t){if(e){var n=e.firstName,r=e.lastName,i=e.username,o=e.emailAddress,l=e.password;if(n&&r&&i&&o&&l)C.currentUser?t():C.createUserWithEmailAndPassword(o,l).then(function(e){var o=e.user;if(o){var l=o.uid;if(l){var s=w.collection("users").doc(l);s?s.set({firstName:n,lastName:r,username:i}).then(function(e){y.logEvent("sign_up",{method:"password"}),a(e)}).catch(function(e){t(e)}):t()}else t()}else t()}).catch(function(e){t(e)});else t()}else t()})},signIn:function(e,a){return new Promise(function(t,n){e&&a?C.currentUser?n():C.signInWithEmailAndPassword(e,a).then(function(e){y.logEvent("login",{method:"password"}),t(e)}).catch(function(e){n(e)}):n()})},signInWithAuthProvider:function(e){return new Promise(function(a,t){if(e){var n=new b.auth.OAuthProvider(e);if(n)C.currentUser?t():C.signInWithPopup(n).then(function(t){y.logEvent("login",{method:e}),a(t)}).catch(function(e){t(e)});else t()}else t()})},linkAuthProvider:function(e){return new Promise(function(a,t){if(e){var n=new b.auth.OAuthProvider(e);if(n){var r=C.currentUser;r?r.linkWithPopup(n).then(function(t){y.logEvent("link_auth_provider",{value:e}),a(t)}).catch(function(e){t(e)}):t()}else t()}else t()})},unlinkAuthProvider:function(e){return new Promise(function(a,t){if(e){var n=C.currentUser;n?n.unlink(e).then(function(t){y.logEvent("unlink_auth_provider",{value:e}),a(t)}).catch(function(e){t(e)}):t()}else t()})},authProviderData:function(e){if(e){var a=C.currentUser;if(a){var t=a.providerData;if(t)return t.find(function(a){return a.providerId===e})}}},signOut:function(){return new Promise(function(e,a){C.currentUser?C.signOut().then(function(a){y.logEvent("sign_out"),e(a)}).catch(function(e){a(e)}):a()})},resetPassword:function(e){return new Promise(function(a,t){e?C.currentUser?t():C.sendPasswordResetEmail(e).then(function(e){y.logEvent("reset_password"),a(e)}).catch(function(e){t(e)}):t()})},changeAvatar:function(e){return new Promise(function(a,t){if(e)if(S.includes(e.type))if(e.size>20971520)t();else{var n=C.currentUser;if(n){var r=n.uid;if(r){var i=A.ref().child("images").child("avatars").child(r);i?i.put(e).then(function(e){i.getDownloadURL().then(function(e){n.updateProfile({photoURL:e}).then(function(e){y.logEvent("change_avatar"),a(e)}).catch(function(e){t(e)})}).catch(function(e){t(e)})}).catch(function(e){t(e)}):t()}else t()}else t()}else t();else t()})},removeAvatar:function(){return new Promise(function(e,a){var t=C.currentUser;if(t){var n=t.uid;n?t.updateProfile({photoURL:null}).then(function(t){var r=A.ref().child("images").child("avatars").child(n);r?r.delete().then(function(a){y.logEvent("remove_avatar"),e(a)}).catch(function(e){a(e)}):a()}).catch(function(e){a(e)}):a()}else a()})},changeFirstName:function(e){return new Promise(function(a,t){if(e){var n=C.currentUser;if(n){var r=n.uid;if(r){var i=w.collection("users").doc(r);i?i.update({firstName:e}).then(function(e){y.logEvent("change_first_name"),a(e)}).catch(function(e){t(e)}):t()}else t()}else t()}else t()})},changeLastName:function(e){return new Promise(function(a,t){if(e){var n=C.currentUser;if(n){var r=n.uid;if(r){var i=w.collection("users").doc(r);i?i.update({lastName:e}).then(function(e){y.logEvent("change_last_name"),a(e)}).catch(function(e){t(e)}):t()}else t()}else t()}else t()})},changeUsername:function(e){return new Promise(function(a,t){if(e){var n=C.currentUser;if(n){var r=n.uid;if(r){var i=w.collection("users").doc(r);i?i.update({username:e}).then(function(e){y.logEvent("change_username"),a(e)}).catch(function(e){t(e)}):t()}else t()}else t()}else t()})},changeEmailAddress:function(e){return new Promise(function(a,t){if(e){var n=C.currentUser;if(n)n.uid?n.updateEmail(e).then(function(e){y.logEvent("change_email_address"),a(e)}).catch(function(e){t(e)}):t();else t()}else t()})},changePassword:function(e){return new Promise(function(a,t){if(e){var n=C.currentUser;if(n){var r=n.uid;r?n.updatePassword(e).then(function(e){var n=w.collection("users").doc(r);n?n.update({lastPasswordChange:b.firestore.FieldValue.serverTimestamp()}).then(function(e){y.logEvent("change_password"),a(e)}).catch(function(e){t(e)}):t()}).catch(function(e){t(e)}):t()}else t()}else t()})},verifyEmailAddress:function(){return new Promise(function(e,a){var t=C.currentUser;t?t.sendEmailVerification().then(function(a){y.logEvent("verify_email_address"),e(a)}).catch(function(e){a(e)}):a()})},deleteAccount:function(){return new Promise(function(e,a){var t=C.currentUser;t?t.delete().then(function(a){y.logEvent("delete_account"),e(a)}).catch(function(e){a(e)}):a()})}},P=k,O=t(124),N=t.n(O),j=t(159),D=t(125),x=t.n(D),I=t(126),U=t.n(I),F=t(127),T=t.n(F),L=t(128),R=t.n(L),W=t(129),K=t.n(W),q=t(130),B=t.n(q),_=t(131),z=t.n(_),G=t(132),M=t.n(G),H=t(133),V=t.n(H),Y=t(134),J=t.n(Y),Q=t(135),Z=t.n(Q),X=t(136),$=t.n(X),ee=t(137),ae=t.n(ee),te=t(138),ne=t.n(te),re=t(139),ie=t.n(re),oe=t(140),le=t.n(oe),se=t(141),ce=t.n(se),me=t(142),de=t.n(me),ue=t(143),pe=t.n(ue),he={red:{id:"red",name:"Red",import:x.a},pink:{id:"pink",name:"Pink",import:U.a},purple:{id:"purple",name:"Purple",import:T.a},deepPurple:{id:"deep-purple",name:"Deep Purple",import:R.a},indigo:{id:"indigo",name:"Indigo",import:K.a},blue:{id:"blue",name:"Blue",import:B.a},lightBlue:{id:"light-blue",name:"Light Blue",import:z.a},cyan:{id:"cyan",name:"Cyan",import:M.a},teal:{id:"teal",name:"Teal",import:V.a},green:{id:"green",name:"Green",import:J.a},lightGreen:{id:"light-green",name:"Light Green",import:Z.a},lime:{id:"lime",name:"Lime",import:$.a},yellow:{id:"yellow",name:"Yellow",import:ae.a},amber:{id:"amber",name:"Amber",import:ne.a},orange:{id:"orange",name:"Orange",import:ie.a},deepOrange:{id:"deep-orange",name:"Deep Orange",import:le.a},brown:{id:"brown",name:"Brown",import:ce.a},gray:{id:"gray",name:"Gray",import:de.a},blueGray:{id:"blue-gray",name:"Blue Gray",import:pe.a}},fe={light:{id:"light",name:"Light"},dark:{id:"dark",name:"Dark"}},ge=function(e){return e?(e=N.a.camelCase(e),he[e]):null},ve=function(e){return e?fe[e]:null},Ee=ge("indigo"),be=ge("red"),ye=ve("light"),Ce=Object(j.a)({palette:{primary:Ee.import,secondary:be.import,type:ye.id},primaryColor:Ee,secondaryColor:be,type:ye}),we={};we.colors=he,we.types=fe,we.defaultPrimaryColor=Ee,we.defaultSecondaryColor=be,we.defaultType=ye,we.defaultTheme=Ce,we.isDefaultTheme=function(e){if(e)return e.primaryColor.id===Ee.id&&e.secondaryColor.id===be.id&&e.type.id===ye.id},we.createTheme=function(e){if(!e)return null;var a=e.primaryColor,t=e.secondaryColor,n=e.type;return a&&t&&n?(a=ge(a),t=ge(t),n=ve(n),a&&t&&n?e=Object(j.a)({palette:{primary:a.import,secondary:t.import,type:n.id},primaryColor:a,secondaryColor:t,type:n}):null):null},we.changeTheme=function(e){return new Promise(function(a,t){if(e){var n=e.primaryColor,r=e.secondaryColor,i=e.type;if(n&&r&&i)if(n=ge(n),r=ge(r),i=ve(i),n&&r&&i){var o=C.currentUser;if(o){var l=o.uid;if(l){var s=w.collection("users").doc(l);s?s.update({theme:{primaryColor:n.id,secondaryColor:r.id,type:i.id}}).then(function(e){y.logEvent("change_theme",{value:{primaryColor:n.id,secondaryColor:r.id,type:i.id}}),a(e)}).catch(function(e){t(e)}):t()}else t()}else t()}else t();else t()}else t()})},we.changePrimaryColor=function(e){return new Promise(function(a,t){if(e)if(e=ge(e)){var n=C.currentUser;if(n){var r=n.uid;if(r){var i=w.collection("users").doc(r);i?i.update({"theme.primaryColor":e.id}).then(function(t){y.logEvent("change_primary_color",{value:e.id}),a(t)}).catch(function(e){t(e)}):t()}else t()}else t()}else t();else t()})},we.changeSecondaryColor=function(e){return new Promise(function(a,t){if(e)if(e=ge(e)){var n=C.currentUser;if(n){var r=n.uid;if(r){var i=w.collection("users").doc(r);i?i.update({"theme.secondaryColor":e.id}).then(function(t){y.logEvent("change_secondary_color",{value:e.id}),a(t)}).catch(function(e){t(e)}):t()}else t()}else t()}else t();else t()})},we.changeType=function(e){return new Promise(function(a,t){if(e)if(e=ve(e)){var n=C.currentUser;if(n){var r=n.uid;if(r){var i=w.collection("users").doc(r);i?i.update({"theme.type":e.id}).then(function(t){y.logEvent("change_type",{value:e.id}),a(t)}).catch(function(e){t(e)}):t()}else t()}else t()}else t();else t()})},we.resetTheme=function(){return new Promise(function(e,a){var t=C.currentUser;if(t){var n=t.uid;if(n){var r=w.collection("users").doc(n);r?r.update({theme:{primaryColor:Ee.id,secondaryColor:be.id,type:ye.id}}).then(function(a){y.logEvent("reset_theme"),e(a)}).catch(function(e){a(e)}):a()}else a()}else a()})};var Ae=we,Se=t(280),ke=t(253),Pe=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(Se.a,{position:"absolute",top:"50%",left:"50%"},r.a.createElement(ke.a,null))}}]),a}(n.Component),Oe=t(255),Ne=t(256),je=t(64),De=t(257),xe=t(258),Ie=t(160),Ue=t(262),Fe=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).getNameInitials=function(){var e=t.props,a=e.user,n=e.userData,r=n.firstName,i=n.lastName,o=n.username,l=a.displayName;return r&&i?r.charAt(0)+i.charAt(0):r?r.charAt(0):i?i.charAt(0):o?o.charAt(0):l?l.charAt(0):"NN"},t.openMenu=function(e){var a=e.currentTarget;t.setState({menu:{anchorEl:a}})},t.closeMenu=function(){t.setState({menu:{anchorEl:null}})},t.handleSettingsClick=function(){t.closeMenu(),t.props.onSettingsClick()},t.handleSignOutClick=function(){t.closeMenu(),t.props.onSignOutClick()},t.state={menu:{anchorEl:null}},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.performingAction,t=e.signedIn,n=e.user,i=this.props,o=i.onSignUpClick,l=i.onSignInClick,s=this.state.menu;return r.a.createElement(Oe.a,{color:"primary",position:"static"},r.a.createElement(Ne.a,{variant:"regular"},r.a.createElement(Se.a,{flexGrow:1},r.a.createElement(je.a,{color:"inherit",variant:"h6"},"React + Material-UI + Firebase")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(De.a,{color:"inherit",disabled:a,onClick:this.openMenu},n.photoURL&&r.a.createElement(xe.a,{alt:"Avatar",src:n.photoURL}),!n.photoURL&&r.a.createElement(xe.a,{alt:"Avatar"},this.getNameInitials())),r.a.createElement(Ie.a,{anchorEl:s.anchorEl,open:Boolean(s.anchorEl),onClose:this.closeMenu},r.a.createElement(Ue.a,{disabled:a,onClick:this.handleSettingsClick},"Settings"),r.a.createElement(Ue.a,{disabled:a,onClick:this.handleSignOutClick},"Sign out"))),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{mr:1},r.a.createElement(g.a,{color:"secondary",disabled:a,variant:"contained",onClick:o},"Sign Up")),r.a.createElement(g.a,{color:"secondary",disabled:a,variant:"contained",onClick:l},"Sign In"))))}}]),a}(n.Component);Fe.defaultProps={performingAction:!1,signedIn:!1};var Te=Fe,Le=t(79),Re=t(46),We=t(5),Ke=t(264),qe=t(77),Be=t.n(qe),_e=t(61),ze=t.n(_e),Ge=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props,t=a.icon,n=a.title,i=a.description,o=a.button;return r.a.createElement("div",{className:e.center},t,n&&r.a.createElement(je.a,{color:"textSecondary",variant:"h4"},n),i&&r.a.createElement(je.a,{color:"textSecondary",variant:"subtitle1"},i),o)}}]),a}(n.Component),Me=Object(We.a)({center:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"}})(Ge),He=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes;return this.props.signedIn?r.a.createElement(Me,{icon:r.a.createElement(Be.a,{className:e.emptyStateIcon,color:"action"}),title:"Home"}):r.a.createElement(Me,{title:"React + Material-UI + Firebase",description:"The three musketeers, all in one pack in the form of a boilerplate app",button:r.a.createElement(Ke.a,{className:e.button,color:"secondary",href:"https://github.com/Phoqe/react-material-ui-firebase",rel:"noopener noreferrer",target:"_blank",variant:"extended"},r.a.createElement(ze.a,{className:e.buttonIcon}),"GitHub")})}}]),a}(n.Component);He.defaultProps={signedIn:!1};var Ve=Object(We.a)(function(e){return{emptyStateIcon:{fontSize:e.spacing(12)},button:{marginTop:e.spacing(1)},buttonIcon:{marginRight:e.spacing(1)}}})(He),Ye=t(144),Je=t.n(Ye),Qe=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Me,{icon:r.a.createElement(Je.a,{className:e.emptyStateIcon,color:"action"}),title:"Content Not Found",description:"The requested URL was not found on this server",button:r.a.createElement(Ke.a,{className:e.button,color:"secondary",component:Le.b,to:"/",variant:"extended"},r.a.createElement(Be.a,{className:e.buttonIcon})," Go Home")})}}]),a}(n.Component),Ze=Object(We.a)(function(e){return{emptyStateIcon:{fontSize:e.spacing(12)},button:{marginTop:e.spacing(1)},buttonIcon:{marginRight:e.spacing(1)}}})(Qe),Xe=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.signedIn;return r.a.createElement(Le.a,null,r.a.createElement(Re.c,null,r.a.createElement(Re.a,{path:"/",exact:!0,render:function(){return r.a.createElement(Ve,{signedIn:e})}}),r.a.createElement(Re.a,{component:Ze})))}}]),a}(n.Component);Xe.defaultProps={signedIn:!1};var $e=Xe,ea=t(8),aa=t(284),ta=t(27),na=t.n(ta),ra=t(290),ia=t(267),oa=t(268),la=t(273),sa=t(265),ca=t(269),ma=t(289),da=t(80),ua=t.n(da),pa=t(81),ha=t.n(pa),fa=t(82),ga=t.n(fa),va=t(83),Ea=t.n(va),ba=t(84),ya=t.n(ba),Ca=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props,t=a.gutterBottom,n=a.performingAction,i=this.props.onAuthProviderClick,o=[{providerId:"facebook.com",theme:Object(j.a)({palette:{primary:{main:"#3c5a99",contrastText:"#ffffff"}}}),icon:r.a.createElement(ua.a,null),name:"Facebook"},{providerId:"github.com",theme:Object(j.a)({palette:{primary:{main:"#24292e",contrastText:"#ffffff"}}}),icon:r.a.createElement(ze.a,null),name:"GitHub"},{providerId:"google.com",theme:Object(j.a)({palette:{primary:{main:"#4285f4",contrastText:"#ffffff"}}}),icon:r.a.createElement(ha.a,null),name:"Google"},{providerId:"microsoft.com",theme:Object(j.a)({palette:{primary:{main:"#f65314",contrastText:"#ffffff"}}}),icon:r.a.createElement(ga.a,null),name:"Microsoft"},{providerId:"twitter.com",theme:Object(j.a)({palette:{primary:{main:"#1da1f2",contrastText:"#ffffff"}}}),icon:r.a.createElement(Ea.a,null),name:"Twitter"},{providerId:"yahoo.com",theme:Object(j.a)({palette:{primary:{main:"#410093",contrastText:"#ffffff"}}}),icon:r.a.createElement(ya.a,null),name:"Yahoo"}];return t?r.a.createElement(sa.a,{className:e.grid,container:!0,direction:"column",spacing:1},o.map(function(e){return r.a.createElement(sa.a,{key:e.providerId,item:!0},r.a.createElement(h.a,{theme:e.theme},r.a.createElement(g.a,{color:"primary",disabled:n,fullWidth:!0,startIcon:e.icon,variant:"contained",onClick:function(){return i(e.providerId)}},e.name)))})):r.a.createElement(sa.a,{container:!0,direction:"column",spacing:1},o.map(function(e){return r.a.createElement(sa.a,{key:e.providerId,item:!0},r.a.createElement(h.a,{theme:e.theme},r.a.createElement(g.a,{color:"primary",disabled:n,fullWidth:!0,startIcon:e.icon,variant:"contained",onClick:function(){return i(e.providerId)}},e.name)))}))}}]),a}(n.Component);Ca.defaultProps={gutterBottom:!1,performingAction:!1};var wa=Object(We.a)(function(e){return{grid:{marginBottom:e.spacing(2)}}})(Ca),Aa={firstName:{presence:{allowEmpty:!1},type:"string"},lastName:{presence:{allowEmpty:!1},type:"string"},username:{length:{minimum:2,maximum:20},presence:{allowEmpty:!1},type:"string"},emailAddress:{email:{message:"^E-mail address is invalid"},presence:{allowEmpty:!1},type:"string"},emailAddressConfirmation:{email:{message:"^E-mail address confirmation is invalid"},equality:{attribute:"emailAddress",message:"^E-mail address confirmation is not equal to e-mail address"},presence:{allowEmpty:!1},type:"string"},password:{length:{minimum:6},presence:{allowEmpty:!1},type:"string"},passwordConfirmation:{equality:"password",length:{minimum:6},presence:{allowEmpty:!1},type:"string"}},Sa={performingAction:!1,firstName:"",lastName:"",username:"",emailAddress:"",emailAddressConfirmation:"",password:"",passwordConfirmation:"",errors:null},ka=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).signUp=function(){var e=t.state,a=e.firstName,n=e.lastName,r=e.username,i=e.emailAddress,o=e.emailAddressConfirmation,l=e.password,s=e.passwordConfirmation,c=na()({firstName:a,lastName:n,username:r,emailAddress:i,emailAddressConfirmation:o,password:l,passwordConfirmation:s},{firstName:Aa.firstName,lastName:Aa.lastName,username:Aa.username,emailAddress:Aa.emailAddress,emailAddressConfirmation:Aa.emailAddressConfirmation,password:Aa.password,passwordConfirmation:Aa.passwordConfirmation});c?t.setState({errors:c}):t.setState({performingAction:!0,errors:null},function(){P.signUp({firstName:a,lastName:n,username:r,emailAddress:i,password:l}).then(function(e){t.props.dialogProps.onClose()}).catch(function(e){var a=e.code,n=e.message;switch(a){case"auth/email-already-in-use":case"auth/invalid-email":case"auth/operation-not-allowed":case"auth/weak-password":default:return void t.props.openSnackbar(n)}}).finally(function(){t.setState({performingAction:!1})})})},t.signInWithAuthProvider=function(e){t.setState({performingAction:!0},function(){P.signInWithAuthProvider(e).then(function(e){t.props.dialogProps.onClose(function(){var a=e.user,n=a.displayName,r=a.email;t.props.openSnackbar("Signed in as ".concat(n||r))})}).catch(function(e){var a=e.code,n=e.message;switch(a){case"auth/account-exists-with-different-credential":case"auth/auth-domain-config-required":case"auth/cancelled-popup-request":case"auth/operation-not-allowed":case"auth/operation-not-supported-in-this-environment":case"auth/popup-blocked":case"auth/popup-closed-by-user":case"auth/unauthorized-domain":default:return void t.props.openSnackbar(n)}}).finally(function(){t.setState({performingAction:!1})})})},t.handleKeyPress=function(e){var a=t.state,n=a.firstName,r=a.lastName,i=a.username,o=a.emailAddress,l=a.emailAddressConfirmation,s=a.password,c=a.passwordConfirmation;if(n&&r&&i&&o&&l&&s&&c){var m=e.key;e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||"Enter"===m&&t.signUp()}},t.handleExited=function(){t.setState(Sa)},t.handleFirstNameChange=function(e){var a=e.target.value;t.setState({firstName:a})},t.handleLastNameChange=function(e){var a=e.target.value;t.setState({lastName:a})},t.handleUsernameChange=function(e){var a=e.target.value;t.setState({username:a})},t.handleEmailAddressChange=function(e){var a=e.target.value;t.setState({emailAddress:a})},t.handleEmailAddressConfirmationChange=function(e){var a=e.target.value;t.setState({emailAddressConfirmation:a})},t.handlePasswordChange=function(e){var a=e.target.value;t.setState({password:a})},t.handlePasswordConfirmationChange=function(e){var a=e.target.value;t.setState({passwordConfirmation:a})},t.state=Sa,t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props.dialogProps,t=this.state,n=t.performingAction,i=t.firstName,o=t.lastName,l=t.username,s=t.emailAddress,c=t.emailAddressConfirmation,m=t.password,d=t.passwordConfirmation,u=t.errors;return r.a.createElement(ra.a,Object.assign({fullWidth:!0,maxWidth:"md"},a,{onKeyPress:this.handleKeyPress,onExited:this.handleExited}),r.a.createElement(ia.a,null,"Sign up for an account"),r.a.createElement(aa.a,{smDown:!0},r.a.createElement(oa.a,{className:e.dialogContent},r.a.createElement(sa.a,{container:!0,direction:"row"},r.a.createElement(sa.a,{item:!0,xs:3},r.a.createElement(wa,{performingAction:n,onAuthProviderClick:this.signInWithAuthProvider})),r.a.createElement(sa.a,{item:!0,xs:1},r.a.createElement(ca.a,{className:e.divider,orientation:"vertical"})),r.a.createElement(sa.a,{item:!0,xs:8},r.a.createElement(sa.a,{container:!0,spacing:4},r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"given-name",disabled:n,error:!(!u||!u.firstName),fullWidth:!0,helperText:u&&u.firstName?u.firstName[0]:"",label:"First name",placeholder:"John",required:!0,type:"text",value:i,variant:"outlined",onChange:this.handleFirstNameChange})),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"family-name",disabled:n,error:!(!u||!u.lastName),fullWidth:!0,helperText:u&&u.lastName?u.lastName[0]:"",label:"Last name",placeholder:"Doe",required:!0,type:"text",value:o,variant:"outlined",onChange:this.handleLastNameChange}))),r.a.createElement(sa.a,{container:!0,spacing:4},r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"username",disabled:n,error:!(!u||!u.username),fullWidth:!0,helperText:u&&u.username?u.username[0]:"",label:"Username",placeholder:"John",required:!0,type:"text",value:l,variant:"outlined",onChange:this.handleUsernameChange}))),r.a.createElement(sa.a,{container:!0,spacing:4},r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"email",disabled:n,error:!(!u||!u.emailAddress),fullWidth:!0,helperText:u&&u.emailAddress?u.emailAddress[0]:"",label:"E-mail address",placeholder:"john@doe.com",required:!0,type:"email",value:s,variant:"outlined",onChange:this.handleEmailAddressChange})),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"email",disabled:n,error:!(!u||!u.emailAddressConfirmation),fullWidth:!0,helperText:u&&u.emailAddressConfirmation?u.emailAddressConfirmation[0]:"",label:"E-mail address confirmation",placeholder:"john@doe.com",required:!0,type:"email",value:c,variant:"outlined",onChange:this.handleEmailAddressConfirmationChange}))),r.a.createElement(sa.a,{container:!0,spacing:4},r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"new-password",disabled:n,error:!(!u||!u.password),fullWidth:!0,helperText:u&&u.password?u.password[0]:"",label:"Password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:m,variant:"outlined",onChange:this.handlePasswordChange})),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"password",disabled:n,error:!(!u||!u.passwordConfirmation),fullWidth:!0,helperText:u&&u.passwordConfirmation?u.passwordConfirmation[0]:"",label:"Password confirmation",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:d,variant:"outlined",onChange:this.handlePasswordConfirmationChange}))))))),r.a.createElement(aa.a,{mdUp:!0},r.a.createElement(oa.a,null,r.a.createElement(wa,{gutterBottom:!0,performingAction:n,onAuthProviderClick:this.signInWithAuthProvider}),r.a.createElement(sa.a,{container:!0,direction:"column",spacing:2},r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"given-name",disabled:n,error:!(!u||!u.firstName),fullWidth:!0,helperText:u&&u.firstName?u.firstName[0]:"",label:"First name",placeholder:"John",required:!0,type:"text",value:i,variant:"outlined",onChange:this.handleFirstNameChange})),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"family-name",disabled:n,error:!(!u||!u.lastName),fullWidth:!0,helperText:u&&u.lastName?u.lastName[0]:"",label:"Last name",placeholder:"Doe",required:!0,type:"text",value:o,variant:"outlined",onChange:this.handleLastNameChange})),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"username",disabled:n,error:!(!u||!u.username),fullWidth:!0,helperText:u&&u.username?u.username[0]:"",label:"Username",placeholder:"John",required:!0,type:"text",value:l,variant:"outlined",onChange:this.handleUsernameChange})),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"email",disabled:n,error:!(!u||!u.emailAddress),fullWidth:!0,helperText:u&&u.emailAddress?u.emailAddress[0]:"",label:"E-mail address",placeholder:"john@doe.com",required:!0,type:"email",value:s,variant:"outlined",onChange:this.handleEmailAddressChange})),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"email",disabled:n,error:!(!u||!u.emailAddressConfirmation),fullWidth:!0,helperText:u&&u.emailAddressConfirmation?u.emailAddressConfirmation[0]:"",label:"E-mail address confirmation",placeholder:"john@doe.com",required:!0,type:"email",value:c,variant:"outlined",onChange:this.handleEmailAddressConfirmationChange})),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"new-password",disabled:n,error:!(!u||!u.password),fullWidth:!0,helperText:u&&u.password?u.password[0]:"",label:"Password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:m,variant:"outlined",onChange:this.handlePasswordChange})),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"password",disabled:n,error:!(!u||!u.passwordConfirmation),fullWidth:!0,helperText:u&&u.passwordConfirmation?u.passwordConfirmation[0]:"",label:"Password confirmation",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:d,variant:"outlined",onChange:this.handlePasswordConfirmationChange}))))),r.a.createElement(la.a,null,r.a.createElement(g.a,{color:"primary",onClick:a.onClose},"Cancel"),r.a.createElement(g.a,{color:"primary",disabled:!i||!o||!l||!s||!c||!m||!d||n,variant:"contained",onClick:this.signUp},"Sign up")))}}]),a}(n.Component),Pa=Object(We.a)(function(e){return{dialogContent:{overflowY:"hidden"},icon:{marginRight:e.spacing(.5)},divider:{margin:"auto"},grid:{marginBottom:e.spacing(2)}}})(ka),Oa={performingAction:!1,emailAddress:"",password:"",errors:null},Na=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).resetPassword=function(){var e=t.state.emailAddress,a=na()({emailAddress:e},{emailAddress:Aa.emailAddress});a?t.setState({errors:a}):t.setState({errors:null},function(){t.setState({performingAction:!0},function(){P.resetPassword(e).then(function(a){t.props.openSnackbar("Sent password reset e-mail to ".concat(e))}).catch(function(e){var a=e.code,n=e.message;switch(a){case"auth/invalid-email":case"auth/missing-android-pkg-name":case"auth/missing-continue-uri":case"auth/missing-ios-bundle-id":case"auth/invalid-continue-uri":case"auth/unauthorized-continue-uri":case"auth/user-not-found":default:return void t.props.openSnackbar(n)}}).finally(function(){t.setState({performingAction:!1})})})})},t.signIn=function(){var e=t.state,a=e.emailAddress,n=e.password,r=na()({emailAddress:a,password:n},{emailAddress:Aa.emailAddress,password:Aa.password});r?t.setState({errors:r}):t.setState({performingAction:!0,errors:null},function(){P.signIn(a,n).then(function(e){t.props.dialogProps.onClose(function(){var a=e.user,n=a.displayName,r=a.email;t.props.openSnackbar("Signed in as ".concat(n||r))})}).catch(function(e){var a=e.code,n=e.message;switch(a){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":case"auth/wrong-password":default:return void t.props.openSnackbar(n)}}).finally(function(){t.setState({performingAction:!1})})})},t.signInWithAuthProvider=function(e){t.setState({performingAction:!0},function(){P.signInWithAuthProvider(e).then(function(e){t.props.dialogProps.onClose(function(){var a=e.user,n=a.displayName,r=a.email;t.props.openSnackbar("Signed in as ".concat(n||r))})}).catch(function(e){var a=e.code,n=e.message;switch(a){case"auth/account-exists-with-different-credential":case"auth/auth-domain-config-required":case"auth/cancelled-popup-request":case"auth/operation-not-allowed":case"auth/operation-not-supported-in-this-environment":case"auth/popup-blocked":case"auth/popup-closed-by-user":case"auth/unauthorized-domain":default:return void t.props.openSnackbar(n)}}).finally(function(){t.setState({performingAction:!1})})})},t.handleKeyPress=function(e){var a=t.state,n=a.emailAddress,r=a.password;if(n&&r){var i=e.key;e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||"Enter"===i&&t.signIn()}},t.handleExited=function(){t.setState(Oa)},t.handleEmailAddressChange=function(e){var a=e.target.value;t.setState({emailAddress:a})},t.handlePasswordChange=function(e){var a=e.target.value;t.setState({password:a})},t.state=Oa,t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props.dialogProps,t=this.state,n=t.performingAction,i=t.emailAddress,o=t.password,l=t.errors;return r.a.createElement(ra.a,Object.assign({fullWidth:!0,maxWidth:"sm"},a,{onKeyPress:this.handleKeyPress,onExited:this.handleExited}),r.a.createElement(ia.a,null,"Sign in to your account"),r.a.createElement(oa.a,null,r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(sa.a,{container:!0,direction:"row"},r.a.createElement(sa.a,{item:!0,xs:4},r.a.createElement(wa,{performingAction:n,onAuthProviderClick:this.signInWithAuthProvider})),r.a.createElement(sa.a,{item:!0,xs:1},r.a.createElement(ca.a,{className:e.divider,orientation:"vertical"})),r.a.createElement(sa.a,{item:!0,xs:7},r.a.createElement(sa.a,{container:!0,direction:"column",spacing:2},r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"email",disabled:n,error:!(!l||!l.emailAddress),fullWidth:!0,helperText:l&&l.emailAddress?l.emailAddress[0]:"",label:"E-mail address",placeholder:"john@doe.com",required:!0,type:"email",value:i,variant:"outlined",onChange:this.handleEmailAddressChange})),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"current-password",disabled:n,error:!(!l||!l.password),fullWidth:!0,helperText:l&&l.password?l.password[0]:"",label:"Password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:o,variant:"outlined",onChange:this.handlePasswordChange})))))),r.a.createElement(aa.a,{smUp:!0},r.a.createElement(wa,{gutterBottom:!0,performingAction:n,onAuthProviderClick:this.signInWithAuthProvider}),r.a.createElement(sa.a,{container:!0,direction:"column",spacing:2},r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"email",disabled:n,error:!(!l||!l.emailAddress),fullWidth:!0,helperText:l&&l.emailAddress?l.emailAddress[0]:"",label:"E-mail address",placeholder:"john@doe.com",required:!0,type:"email",value:i,variant:"outlined",onChange:this.handleEmailAddressChange})),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(ma.a,{autoComplete:"current-password",disabled:n,error:!(!l||!l.password),fullWidth:!0,helperText:l&&l.password?l.password[0]:"",label:"Password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:o,variant:"outlined",onChange:this.handlePasswordChange}))))),r.a.createElement(la.a,null,r.a.createElement(g.a,{color:"primary",onClick:a.onClose},"Cancel"),r.a.createElement(g.a,{color:"primary",disabled:!i||n,variant:"outlined",onClick:this.resetPassword},"Reset password"),r.a.createElement(g.a,{color:"primary",disabled:!i||!o||n,variant:"contained",onClick:this.signIn},"Sign in")))}}]),a}(n.Component),ja=Object(We.a)(function(e){return{icon:{marginRight:e.spacing(.5)},divider:{margin:"auto"},grid:{marginBottom:e.spacing(2)}}})(Na),Da=t(288),xa=t(282),Ia=t(278),Ua=t(55),Fa=t.n(Ua),Ta=t(156),La=t.n(Ta),Ra=t(157),Wa=t.n(Ra),Ka=t(85),qa=t.n(Ka),Ba=t(158),_a=t.n(Ba),za=t(146),Ga=t.n(za),Ma=t(38),Ha=t.n(Ma),Va=t(266),Ya=t(274),Ja=t(261),Qa=t(220),Za=t(275),Xa=t(276),$a=t(277),et=t(103),at=t.n(et),tt=t(102),nt=t.n(tt),rt=t(104),it=t.n(rt),ot=t(56),lt=t.n(ot),st=t(148),ct=t.n(st),mt=t(149),dt=t.n(mt),ut=t(63),pt=t.n(ut),ht=t(105),ft=t.n(ht),gt=t(150),vt=t.n(gt),Et=t(151),bt=t.n(Et),yt={profileCompletion:0,securityRating:0,showingField:"",avatar:null,avatarUrl:"",firstName:"",lastName:"",username:"",emailAddress:"",performingAction:!1,loadingAvatar:!1,sentVerificationEmail:!1,errors:null},Ct=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).getNameInitials=function(){var e=t.props,a=e.user,n=e.userData,r=n.firstName,i=n.lastName,o=n.username,l=a.displayName;return r&&i?r.charAt(0)+i.charAt(0):r?r.charAt(0):i?i.charAt(0):o?o.charAt(0):l?l.charAt(0):"NN"},t.uploadAvatar=function(){var e=t.state.avatar;e&&t.setState({performingAction:!0,loadingAvatar:!0},function(){P.changeAvatar(e).then(function(e){t.calculateProfileCompletion(function(){t.props.openSnackbar("Changed avatar")})}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1,loadingAvatar:!1,avatar:null,avatarUrl:""})})})},t.removeAvatar=function(){var e=t.props.user,a=t.state,n=a.avatar,r=a.avatarUrl;(e.photoURL||n||r)&&(!e.photoURL&&n&&r||e.photoURL&&n&&r?(URL.revokeObjectURL(r),t.setState({avatar:null,avatarUrl:""},function(){t.props.openSnackbar("Removed image \u201c".concat(n.name,"\u201d"),5)})):!e.photoURL||n||r||t.setState({performingAction:!0,loadingAvatar:!0},function(){P.removeAvatar().then(function(e){t.calculateProfileCompletion(function(){t.props.openSnackbar("Removed avatar")})}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1,loadingAvatar:!1})})}))},t.calculateProfileCompletion=function(e){var a=t.props,n=a.user,r=a.userData;if(n&&r){var i=0,o=[n.photoURL,r.firstName,r.lastName,r.username,n.email,n.email&&n.emailVerified];o.forEach(function(e){e&&(i+=100/o.length)}),t.setState({profileCompletion:Math.floor(i)},function(){e&&"function"===typeof e&&e()})}},t.calculateSecurityRating=function(e){var a=t.props,n=a.user,r=a.userData;if(n&&n.metadata&&r){var i=n.metadata.creationTime;if(i){i=Ha()(i);var o=r.lastPasswordChange,l=0;o?(o=Ha()(o.toDate()),l=i.diff(o,"days")>=365.242199?50:100):l=Ha()().diff(i,"days")>=365.242199?50:100,t.setState({securityRating:l},function(){e&&"function"===typeof e&&e()})}}},t.showField=function(e){e&&t.setState({showingField:e})},t.hideFields=function(e){t.setState({showingField:"",firstName:"",lastName:"",username:"",emailAddress:"",errors:null},function(){e&&"function"===typeof e&&e()})},t.changeFirstName=function(){var e=t.state.firstName,a=na()({firstName:e},{firstName:Aa.firstName});a?t.setState({errors:a}):t.setState({errors:null},function(){var a=t.props.userData;e!==a.firstName&&t.setState({performingAction:!0},function(){P.changeFirstName(e).then(function(){t.calculateProfileCompletion(function(){t.hideFields(function(){t.props.openSnackbar("Changed first name")})})}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})})},t.changeLastName=function(){var e=t.state.lastName,a=na()({lastName:e},{lastName:Aa.lastName});a?t.setState({errors:a}):t.setState({errors:null},function(){var a=t.props.userData;e!==a.lastName&&t.setState({performingAction:!0},function(){P.changeLastName(e).then(function(){t.calculateProfileCompletion(function(){t.hideFields(function(){t.props.openSnackbar("Changed last name")})})}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})})},t.changeUsername=function(){var e=t.state.username,a=na()({username:e},{username:Aa.username});a?t.setState({errors:a}):t.setState({errors:null},function(){var a=t.props.userData;e!==a.username&&t.setState({performingAction:!0},function(){P.changeUsername(e).then(function(){t.calculateProfileCompletion(function(){t.hideFields(function(){t.props.openSnackbar("Changed username")})})}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})})},t.changeEmailAddress=function(){var e=t.state.emailAddress,a=na()({emailAddress:e},{emailAddress:Aa.emailAddress});a?t.setState({errors:a}):t.setState({errors:null},function(){var a=t.props.user;e!==a.email&&t.setState({performingAction:!0},function(){P.changeEmailAddress(e).then(function(){t.calculateProfileCompletion(function(){t.hideFields(function(){t.props.openSnackbar("Changed e-mail address")})})}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})})},t.verifyEmailAddress=function(){t.setState({performingAction:!0},function(){P.verifyEmailAddress().then(function(){t.setState({sentVerificationEmail:!0},function(){t.props.openSnackbar("Sent verification e-mail")})}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})},t.deleteAccount=function(){t.setState({performingAction:!0},function(){P.deleteAccount().then(function(){t.props.openSnackbar("Deleted account")}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})},t.changeField=function(e){switch(e){case"first-name":return void t.changeFirstName();case"last-name":return void t.changeLastName();case"username":return void t.changeUsername();case"email-address":return void t.changeEmailAddress();default:return}},t.handleKeyDown=function(e,a){if(e&&a&&!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){var n=e.key;n&&("Escape"===n?t.hideFields():"Enter"===n&&t.changeField(a))}},t.handleAvatarChange=function(e){if(e){var a=e.target.files;if(a){var n=a[0];if(n){["image/gif","image/jpeg","image/png","image/webp","image/svg+xml"].includes(n.type)&&(n.size>20971520||t.setState({avatar:n,avatarUrl:URL.createObjectURL(n)},function(){t.props.openSnackbar("Selected image \u201c".concat(n.name,"\u201d"),5)}))}}}},t.handleFirstNameChange=function(e){if(e){var a=e.target.value;t.setState({firstName:a})}},t.handleLastNameChange=function(e){if(e){var a=e.target.value;t.setState({lastName:a})}},t.handleUsernameChange=function(e){if(e){var a=e.target.value;t.setState({username:a})}},t.handleEmailAddressChange=function(e){if(e){var a=e.target.value;t.setState({emailAddress:a})}},t.state=yt,t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.props.classes,t=this.props,n=t.user,i=t.userData,o=this.state,l=o.profileCompletion,s=o.securityRating,c=o.showingField,m=o.performingAction,d=o.loadingAvatar,u=o.avatar,p=o.avatarUrl,h=o.firstName,f=o.lastName,v=o.username,E=o.emailAddress,b=o.sentVerificationEmail,y=o.errors;return r.a.createElement(oa.a,{classes:{root:a.dialogContent}},r.a.createElement(Se.a,{mb:2},r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(sa.a,{alignItems:"center",container:!0},r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(Se.a,{textAlign:"center"},r.a.createElement(Se.a,{mb:1.5},u&&p&&r.a.createElement(Ya.a,{classes:{badge:a.badge},badgeContent:r.a.createElement(Da.a,{title:"Remove"},r.a.createElement(Ke.a,{classes:{sizeSmall:a.small},color:"secondary",disabled:m,size:"small",onClick:this.removeAvatar},r.a.createElement(Fa.a,{fontSize:"small"})))},d&&r.a.createElement(Ya.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(Va.a,{style:{transitionDelay:"1s"},in:d,unmountOnExit:!0},r.a.createElement(ke.a,{size:120,thickness:1.8}))},r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar",src:p})),!d&&r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar",src:p})),!u&&!p&&r.a.createElement(r.a.Fragment,null,n.photoURL&&r.a.createElement(Ya.a,{classes:{badge:a.badge},badgeContent:r.a.createElement(Da.a,{title:"Remove"},r.a.createElement(Ke.a,{classes:{sizeSmall:a.small},color:"secondary",disabled:m,size:"small",onClick:this.removeAvatar},r.a.createElement(Fa.a,{fontSize:"small"})))},d&&r.a.createElement(Ya.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(Va.a,{style:{transitionDelay:"1s"},in:d,unmountOnExit:!0},r.a.createElement(ke.a,{size:120,thickness:1.8}))},r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar",src:n.photoURL})),!d&&r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar",src:n.photoURL})),!n.photoURL&&r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(Ya.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(Va.a,{style:{transitionDelay:"1s"},in:d,unmountOnExit:!0},r.a.createElement(ke.a,{size:120,thickness:1.8}))},r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar"},r.a.createElement(je.a,{className:a.nameInitials,variant:"h2"},this.getNameInitials()))),!d&&r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar"},r.a.createElement(je.a,{className:a.nameInitials,variant:"h2"},this.getNameInitials()))))),u&&p&&r.a.createElement(g.a,{color:"primary",disabled:m,startIcon:r.a.createElement(nt.a,null),variant:"contained",onClick:this.uploadAvatar},"Upload"),!u&&!p&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"avatar-input",type:"file",hidden:!0,accept:"image/*",onChange:this.handleAvatarChange}),r.a.createElement("label",{htmlFor:"avatar-input"},r.a.createElement(g.a,{color:"primary",component:"span",disabled:m,startIcon:r.a.createElement(at.a,null),variant:"contained"},"Choose..."))))),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(Se.a,{textAlign:"center"},r.a.createElement(je.a,{variant:"body1"},"Profile Completion"),0===l&&r.a.createElement(je.a,{color:"error",variant:"h5"},l,"%"),100===l&&r.a.createElement(je.a,{color:"primary",variant:"h5"},l,"%"),0!==l&&100!==l&&r.a.createElement(je.a,{color:"secondary",variant:"h5"},l,"%"))),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(Se.a,{textAlign:"center"},r.a.createElement(je.a,{variant:"body1"},"Security Rating"),0===s&&r.a.createElement(je.a,{color:"error",variant:"h5"},s,"%"),100===s&&r.a.createElement(je.a,{color:"primary",variant:"h5"},s,"%"),0!==s&&100!==s&&r.a.createElement(je.a,{color:"secondary",variant:"h5"},s,"%"))))),r.a.createElement(aa.a,{smUp:!0},r.a.createElement(Se.a,{textAlign:"center",mb:3},r.a.createElement(Se.a,{mb:1.5},u&&p&&r.a.createElement(Ya.a,{classes:{badge:a.badge},badgeContent:r.a.createElement(Da.a,{title:"Remove"},r.a.createElement(Ke.a,{classes:{sizeSmall:a.small},color:"secondary",disabled:m,size:"small",onClick:this.removeAvatar},r.a.createElement(Fa.a,{fontSize:"small"})))},d&&r.a.createElement(Ya.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(Va.a,{style:{transitionDelay:"1s"},in:d,unmountOnExit:!0},r.a.createElement(ke.a,{size:120,thickness:1.8}))},r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar",src:p})),!d&&r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar",src:p})),!u&&!p&&r.a.createElement(r.a.Fragment,null,n.photoURL&&r.a.createElement(Ya.a,{classes:{badge:a.badge},badgeContent:r.a.createElement(Da.a,{title:"Remove"},r.a.createElement(Ke.a,{classes:{sizeSmall:a.small},color:"secondary",disabled:m,size:"small",onClick:this.removeAvatar},r.a.createElement(Fa.a,{fontSize:"small"})))},d&&r.a.createElement(Ya.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(ke.a,{size:120,thickness:1.8})},r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar",src:n.photoURL})),!d&&r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar",src:n.photoURL})),!n.photoURL&&r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(Ya.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(Va.a,{style:{transitionDelay:"1s"},in:d,unmountOnExit:!0},r.a.createElement(ke.a,{size:120,thickness:1.8}))},r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar"},r.a.createElement(je.a,{className:a.nameInitials,variant:"h2"},this.getNameInitials()))),!d&&r.a.createElement(xe.a,{className:a.avatar,alt:"Avatar"},r.a.createElement(je.a,{className:a.nameInitials,variant:"h2"},this.getNameInitials()))))),u&&p&&r.a.createElement(g.a,{color:"primary",disabled:m,startIcon:r.a.createElement(nt.a,null),variant:"contained",onClick:this.uploadAvatar},"Upload"),!u&&!p&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"avatar-input",type:"file",hidden:!0,accept:"image/*",onChange:this.handleAvatarChange}),r.a.createElement("label",{htmlFor:"avatar-input"},r.a.createElement(g.a,{color:"primary",component:"span",disabled:m,startIcon:r.a.createElement(at.a,null),variant:"contained"},"Choose...")))),r.a.createElement(sa.a,{container:!0},r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(Se.a,{textAlign:"center"},r.a.createElement(je.a,{variant:"body1"},"Profile Completion"),0===l&&r.a.createElement(je.a,{color:"error",variant:"h5"},l,"%"),100===l&&r.a.createElement(je.a,{color:"primary",variant:"h5"},l,"%"),0!==l&&100!==l&&r.a.createElement(je.a,{color:"secondary",variant:"h5"},l,"%"))),r.a.createElement(sa.a,{item:!0,xs:!0},r.a.createElement(Se.a,{textAlign:"center"},r.a.createElement(je.a,{variant:"body1"},"Security Rating"),0===s&&r.a.createElement(je.a,{color:"error",variant:"h5"},s,"%"),100===s&&r.a.createElement(je.a,{color:"primary",variant:"h5"},s,"%"),0!==s&&100!==s&&r.a.createElement(je.a,{color:"secondary",variant:"h5"},s,"%")))))),r.a.createElement(Ja.a,{disablePadding:!0},r.a.createElement(Qa.a,null,r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(Za.a,null,r.a.createElement(it.a,null))),!i.firstName&&r.a.createElement(Za.a,null,r.a.createElement(Da.a,{title:"No first name"},r.a.createElement(pt.a,{color:"error"}))),"first-name"===c&&r.a.createElement(ma.a,{autoComplete:"given-name",autoFocus:!0,disabled:m,error:!(!y||!y.firstName),fullWidth:!0,helperText:y&&y.firstName?y.firstName[0]:"Press Enter to change your first name",label:"First name",placeholder:i.firstName,required:!0,type:"text",value:h,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"first-name")},onChange:this.handleFirstNameChange}),"first-name"!==c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Xa.a,{primary:"First name",secondary:i.firstName?i.firstName:"You don\u2019t have a first name"}),r.a.createElement($a.a,null,i.firstName&&r.a.createElement(Da.a,{title:"Change"},r.a.createElement("div",null,r.a.createElement(De.a,{disabled:m,onClick:function(){return e.showField("first-name")}},r.a.createElement(lt.a,null)))),!i.firstName&&r.a.createElement(g.a,{color:"primary",disabled:m,variant:"contained",onClick:function(){return e.showField("first-name")}},"Add")))),r.a.createElement(Qa.a,null,r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(Za.a,null,r.a.createElement(it.a,null))),!i.lastName&&r.a.createElement(Za.a,null,r.a.createElement(Da.a,{title:"No last name"},r.a.createElement(pt.a,{color:"error"}))),"last-name"===c&&r.a.createElement(ma.a,{autoComplete:"family-name",autoFocus:!0,disabled:m,error:!(!y||!y.lastName),fullWidth:!0,helperText:y&&y.lastName?y.lastName[0]:"Press Enter to change your last name",label:"Last name",placeholder:i.lastName,required:!0,type:"text",value:f,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"last-name")},onChange:this.handleLastNameChange}),"last-name"!==c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Xa.a,{primary:"Last name",secondary:i.lastName?i.lastName:"You don\u2019t have a last name"}),r.a.createElement($a.a,null,i.lastName&&r.a.createElement(Da.a,{title:"Change"},r.a.createElement("div",null,r.a.createElement(De.a,{disabled:m,onClick:function(){return e.showField("last-name")}},r.a.createElement(lt.a,null)))),!i.lastName&&r.a.createElement(g.a,{color:"primary",disabled:m,variant:"contained",onClick:function(){return e.showField("last-name")}},"Add")))),r.a.createElement(Qa.a,null,r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(Za.a,null,r.a.createElement(ct.a,null))),!i.username&&r.a.createElement(Za.a,null,r.a.createElement(Da.a,{title:"No username"},r.a.createElement(pt.a,{color:"error"}))),"username"===c&&r.a.createElement(ma.a,{autoComplete:"username",autoFocus:!0,disabled:m,error:!(!y||!y.username),fullWidth:!0,helperText:y&&y.username?y.username[0]:"Press Enter to change your username",label:"Username",placeholder:i.username,required:!0,type:"text",value:v,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"username")},onChange:this.handleUsernameChange}),"username"!==c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Xa.a,{primary:"Username",secondary:i.username?i.username:"You don\u2019t have a username"}),r.a.createElement($a.a,null,i.username&&r.a.createElement(Da.a,{title:"Change"},r.a.createElement("div",null,r.a.createElement(De.a,{disabled:m,onClick:function(){return e.showField("username")}},r.a.createElement(lt.a,null)))),!i.username&&r.a.createElement(g.a,{color:"primary",disabled:m,variant:"contained",onClick:function(){return e.showField("username")}},"Add")))),r.a.createElement(Qa.a,null,r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(Za.a,null,r.a.createElement(dt.a,null))),n.email&&r.a.createElement(Za.a,null,r.a.createElement(r.a.Fragment,null,n.emailVerified&&r.a.createElement(Da.a,{title:"Verified"},r.a.createElement(ft.a,{color:"primary"})),!n.emailVerified&&r.a.createElement(Da.a,{title:"Not verified"},r.a.createElement(pt.a,{color:"error"})))),!n.email&&r.a.createElement(Za.a,null,r.a.createElement(Da.a,{title:"No e-mail address"},r.a.createElement(pt.a,{color:"error"}))),"email-address"===c&&r.a.createElement(ma.a,{autoComplete:"email",autoFocus:!0,disabled:m,error:!(!y||!y.emailAddress),fullWidth:!0,helperText:y&&y.emailAddress?y.emailAddress[0]:"Press Enter to change your e-mail address",label:"E-mail address",placeholder:n.email,required:!0,type:"email",value:E,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"email-address")},onChange:this.handleEmailAddressChange}),"email-address"!==c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Xa.a,{primary:"E-mail address",secondary:n.email?n.email:"You don\u2019t have an e-mail address"}),n.email&&!n.emailVerified&&r.a.createElement(Se.a,{clone:!0,mr:7},r.a.createElement($a.a,null,r.a.createElement(Da.a,{title:"Verify"},r.a.createElement("div",null,r.a.createElement(De.a,{color:"secondary",disabled:m||b,onClick:this.verifyEmailAddress},r.a.createElement(ft.a,null)))))),r.a.createElement($a.a,null,n.email&&r.a.createElement(Da.a,{title:"Change"},r.a.createElement("div",null,r.a.createElement(De.a,{disabled:m,onClick:function(){return e.showField("email-address")}},r.a.createElement(lt.a,null)))),!n.email&&r.a.createElement(g.a,{color:"primary",disabled:m,variant:"contained",onClick:function(){return e.showField("email-address")}},"Add")))),r.a.createElement(Qa.a,null,r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(Za.a,null,r.a.createElement(vt.a,null))),r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(Xa.a,{primary:"Signed in",secondary:Ha()(n.metadata.lastSignInTime).format("LLLL")})),r.a.createElement(aa.a,{smUp:!0},r.a.createElement(Xa.a,{primary:"Signed in",secondary:Ha()(n.metadata.lastSignInTime).format("llll")}))),r.a.createElement(Se.a,{mt:1,mb:1},r.a.createElement(ca.a,{light:!0})),r.a.createElement(Qa.a,null,r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(Za.a,null,r.a.createElement(bt.a,null))),r.a.createElement(Xa.a,{primary:"Delete account",secondary:"Accounts can\u2019t be recovered"}),r.a.createElement($a.a,null,r.a.createElement(g.a,{color:"secondary",disabled:m,variant:"contained",onClick:this.deleteAccount},"Delete")))))}},{key:"componentDidMount",value:function(){this.calculateProfileCompletion(),this.calculateSecurityRating()}},{key:"componentWillUnmount",value:function(){var e=this.state.avatarUrl;e&&(URL.revokeObjectURL(e),this.setState({avatarUrl:""}))}}]),a}(n.Component),wt=Object(We.a)(function(e){return{dialogContent:{paddingTop:e.spacing(2)},badge:{top:e.spacing(2),right:-e.spacing(2)},loadingBadge:{top:"50%",right:"50%"},avatar:{marginRight:"auto",marginLeft:"auto",width:e.spacing(14),height:e.spacing(14)},nameInitials:{cursor:"default"},small:{width:e.spacing(4),height:e.spacing(4),minHeight:"initial"}}})(Ct),At=t(272),St=t(292),kt=t(283),Pt=t(106),Ot=t.n(Pt),Nt=t(152),jt=t.n(Nt),Dt=t(153),xt=t.n(Dt),It=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).handlePrimaryColorChange=function(e){if(e){var a=e.target.value;if(a){var n=t.props.theme;n&&n.primaryColor.id!==a&&t.setState({performingAction:!0},function(){Ae.changePrimaryColor(a).then(function(e){t.props.openSnackbar("Changed primary color")}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})}}},t.handleSecondaryColorChange=function(e){if(e){var a=e.target.value;if(a){var n=t.props.theme;n&&n.secondaryColor.id!==a&&t.setState({performingAction:!0},function(){Ae.changeSecondaryColor(a).then(function(e){t.props.openSnackbar("Changed secondary color")}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})}}},t.handleTypeChange=function(e){if(e){var a=e.target.value;if(a){var n=t.props.theme;n&&n.type.id!==a&&t.setState({performingAction:!0},function(){Ae.changeType(a).then(function(e){t.props.openSnackbar("Changed type")}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})}}},t.handleResetClick=function(){var e=t.props.theme;e&&(Ae.isDefaultTheme(e)||t.setState({performingAction:!0},function(){Ae.resetTheme().then(function(e){t.props.openSnackbar("Reset theme")}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})}))},t.state={performingAction:!1},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.theme;if(!e)return null;var a=this.state.performingAction;return r.a.createElement(oa.a,null,r.a.createElement(Ja.a,{disablePadding:!0},r.a.createElement(Se.a,{mb:1},r.a.createElement(Qa.a,null,r.a.createElement(Za.a,null,r.a.createElement(Ot.a,{color:"primary"})),r.a.createElement(At.a,{disabled:a,fullWidth:!0},r.a.createElement(St.a,null,"Primary color"),r.a.createElement(kt.a,{value:e.primaryColor.id,onChange:this.handlePrimaryColorChange},Object.keys(Ae.colors).map(function(e){return e=Ae.colors[e],r.a.createElement(Ue.a,{key:e.id,value:e.id},e.name)}))))),r.a.createElement(Se.a,{mb:1},r.a.createElement(Qa.a,null,r.a.createElement(Za.a,null,r.a.createElement(Ot.a,{color:"secondary"})),r.a.createElement(At.a,{disabled:a,fullWidth:!0},r.a.createElement(St.a,null,"Secondary color"),r.a.createElement(kt.a,{value:e.secondaryColor.id,onChange:this.handleSecondaryColorChange},Object.keys(Ae.colors).map(function(e){return e=Ae.colors[e],r.a.createElement(Ue.a,{key:e.id,value:e.id},e.name)}))))),r.a.createElement(Se.a,{mb:1},r.a.createElement(Qa.a,null,r.a.createElement(Za.a,null,r.a.createElement(jt.a,null)),r.a.createElement(At.a,{disabled:a,fullWidth:!0},r.a.createElement(St.a,null,"Type"),r.a.createElement(kt.a,{value:e.type.id,onChange:this.handleTypeChange},Object.keys(Ae.types).map(function(e){return e=Ae.types[e],r.a.createElement(Ue.a,{key:e.id,value:e.id},e.name)}))))),r.a.createElement(Se.a,{mt:2,mb:1},r.a.createElement(ca.a,{light:!0})),r.a.createElement(Qa.a,null,r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(Za.a,null,r.a.createElement(xt.a,null))),r.a.createElement(Xa.a,{primary:"Reset theme",secondary:"Changes to the theme will be reset"}),r.a.createElement($a.a,null,r.a.createElement(g.a,{color:"secondary",disabled:Ae.isDefaultTheme(e)||a,variant:"contained",onClick:this.handleResetClick},"Reset")))))}}]),a}(n.Component),Ut=t(154),Ft=t.n(Ut),Tt=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).linkAuthProvider=function(e){t.setState({performingAction:!0},function(){P.linkAuthProvider(e.providerId).then(function(a){t.props.openSnackbar("".concat(e.name," linked"),5)}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})},t.unlinkAuthProvider=function(e){t.setState({performingAction:!0},function(){P.unlinkAuthProvider(e.providerId).then(function(a){t.props.openSnackbar("".concat(e.name," unlinked"),4)}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})},t.state={performingAction:!1},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.state.performingAction,t=[{providerId:"facebook.com",color:"#3c5a99",icon:r.a.createElement(ua.a,null),name:"Facebook"},{providerId:"github.com",color:"#24292e",icon:r.a.createElement(ze.a,null),name:"GitHub"},{providerId:"google.com",color:"#4285f4",icon:r.a.createElement(ha.a,null),name:"Google"},{providerId:"microsoft.com",color:"#f65314",icon:r.a.createElement(ga.a,null),name:"Microsoft"},{providerId:"twitter.com",color:"#1da1f2",icon:r.a.createElement(Ea.a,null),name:"Twitter"},{providerId:"yahoo.com",color:"#410093",icon:r.a.createElement(ya.a,null),name:"Yahoo"}];return r.a.createElement(oa.a,null,r.a.createElement(Ja.a,{disablePadding:!0},t.map(function(t){var n=P.authProviderData(t.providerId),i=null;if(n){var o=n.displayName,l=n.email,s=n.phoneNumber;i=o||l||s}return r.a.createElement(Qa.a,{key:t.providerId},r.a.createElement(Za.a,null,r.a.createElement(Se.a,{color:t.color},t.icon)),n&&r.a.createElement(Xa.a,{primary:t.name,secondary:i}),!n&&r.a.createElement(Xa.a,{primary:t.name}),r.a.createElement($a.a,null,n&&r.a.createElement(Da.a,{title:"Unlink"},r.a.createElement("div",null,r.a.createElement(De.a,{disabled:a,onClick:function(){return e.unlinkAuthProvider(t)}},r.a.createElement(Ft.a,null)))),!n&&r.a.createElement(Da.a,{title:"Link"},r.a.createElement("div",null,r.a.createElement(De.a,{disabled:a,onClick:function(){return e.linkAuthProvider(t)}},r.a.createElement(qa.a,null))))))})))}}]),a}(n.Component),Lt=t(155),Rt=t.n(Lt),Wt={showingField:"",password:"",passwordConfirmation:"",performingAction:!1,errors:null},Kt=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).showField=function(e){e&&t.setState({showingField:e})},t.hideFields=function(e){t.setState({showingField:"",password:"",passwordConfirmation:"",errors:null},function(){e&&"function"===typeof e&&e()})},t.changeField=function(e){switch(e){case"password":var a=t.state.password,n=na()({password:a},{password:Aa.password});return n?void t.setState({errors:n}):void t.setState({errors:null},function(){t.showField("password-confirmation")});case"password-confirmation":return void t.changePassword();default:return}},t.changePassword=function(){var e=t.state,a=e.password,n=e.passwordConfirmation,r=na()({password:a,passwordConfirmation:n},{password:Aa.password,passwordConfirmation:Aa.passwordConfirmation});r?t.setState({errors:r}):t.setState({errors:null},function(){t.setState({performingAction:!0},function(){P.changePassword(a).then(function(){t.hideFields(function(){t.props.openSnackbar("Changed password")})}).catch(function(e){e.code;var a=e.message;t.props.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})})},t.handleKeyDown=function(e,a){if(e&&a&&!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){var n=e.key;n&&("Escape"===n?t.hideFields():"Enter"===n&&t.changeField(a))}},t.handlePasswordChange=function(e){if(e){var a=e.target.value;t.setState({password:a})}},t.handlePasswordConfirmationChange=function(e){if(e){var a=e.target.value;t.setState({passwordConfirmation:a})}},t.state=Wt,t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.props.userData,t=this.state,n=t.showingField,i=t.password,o=t.passwordConfirmation,l=t.performingAction,s=t.errors;return r.a.createElement(oa.a,null,r.a.createElement(Ja.a,{disablePadding:!0},r.a.createElement(Qa.a,null,r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(Za.a,null,r.a.createElement(Rt.a,null))),"password"===n&&r.a.createElement(ma.a,{autoComplete:"new-password",autoFocus:!0,disabled:l,error:!(!s||!s.password),fullWidth:!0,helperText:s&&s.password?s.password[0]:"Press Enter to change your password",label:"Password",required:!0,type:"password",value:i,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"password")},onChange:this.handlePasswordChange}),"password-confirmation"===n&&r.a.createElement(ma.a,{autoComplete:"new-password",autoFocus:!0,disabled:l,error:!(!s||!s.passwordConfirmation),fullWidth:!0,helperText:s&&s.passwordConfirmation?s.passwordConfirmation[0]:"Press Enter to change your password",label:"Password confirmation",required:!0,type:"password",value:o,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"password-confirmation")},onChange:this.handlePasswordConfirmationChange}),"password"!==n&&"password-confirmation"!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(Xa.a,{primary:"Password",secondary:a.lastPasswordChange?"Last changed ".concat(Ha()(a.lastPasswordChange.toDate()).format("LL")):"Never changed"})),r.a.createElement(aa.a,{smUp:!0},r.a.createElement(Xa.a,{primary:"Password",secondary:a.lastPasswordChange?"Last changed ".concat(Ha()(a.lastPasswordChange.toDate()).format("ll")):"Never changed"})),r.a.createElement($a.a,null,r.a.createElement(Da.a,{title:"Change"},r.a.createElement("div",null,r.a.createElement(De.a,{disabled:l,onClick:function(){return e.showField("password")}},r.a.createElement(lt.a,null)))))))))}}]),a}(n.Component),qt=[{key:"account",icon:r.a.createElement(La.a,null),label:"Account"},{key:"appearance",icon:r.a.createElement(Wa.a,null),label:"Appearance"},{key:"connections",icon:r.a.createElement(qa.a,null),label:"Connections"},{key:"security",icon:r.a.createElement(_a.a,null),label:"Security"}],Bt=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).handleTabChange=function(e,a){t.setState({selectedTab:a})},t.handleIndexChange=function(e){t.setState({selectedTab:e})},t.state={selectedTab:0},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props.dialogProps,t=this.props,n=t.user,i=t.userData,o=t.theme,l=this.props.openSnackbar,s=this.state.selectedTab;return r.a.createElement(ra.a,a,r.a.createElement(ia.a,{disableTypography:!0},r.a.createElement(je.a,{variant:"h6"},"Settings"),r.a.createElement(Da.a,{title:"Close"},r.a.createElement(De.a,{className:e.closeButton,onClick:a.onClose},r.a.createElement(Fa.a,null)))),r.a.createElement(aa.a,{xsDown:!0},r.a.createElement(xa.a,{classes:{root:e.tabs},style:{overflow:"initial",minHeight:"initial"},indicatorColor:"primary",textColor:"primary",value:s,variant:"fullWidth",onChange:this.handleTabChange},qt.map(function(e){return r.a.createElement(Ia.a,{key:e.key,icon:e.icon,label:e.label})}))),r.a.createElement(aa.a,{smUp:!0},r.a.createElement(xa.a,{classes:{root:e.tabs},style:{overflow:"initial",minHeight:"initial"},indicatorColor:"primary",scrollButtons:"off",textColor:"primary",value:s,variant:"scrollable",onChange:this.handleTabChange},qt.map(function(e){return r.a.createElement(Ia.a,{key:e.key,icon:e.icon,label:e.label})}))),r.a.createElement(Ga.a,{index:s,onChangeIndex:this.handleIndexChange},r.a.createElement(wt,{user:n,userData:i,openSnackbar:l}),r.a.createElement(It,{theme:o,openSnackbar:l}),r.a.createElement(Tt,{openSnackbar:l}),r.a.createElement(Kt,{user:n,userData:i,openSnackbar:l})))}}]),a}(n.Component),_t=Object(We.a)(function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},tabs:{display:"initial"}}})(Bt),zt=t(279),Gt=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props.dialogProps,t=this.props,n=t.title,i=t.contentText,o=t.dismissiveAction,l=t.confirmingAction,s=t.acknowledgementAction;return(o||l)&&s?(console.error("Dialogs should contain a maximum of two actions. If a single action is provided, it must be an acknowledgement action. If two actions are provided, one must be a confirming action, and the other a dismissing action. Providing a third action such as \u201cLearn more\u201d is not recommended as it navigates the user away from the dialog, leaving the dialog task unfinished. https://material.io/design/components/dialogs.html#actions"),null):r.a.createElement(ra.a,a,n&&r.a.createElement(ia.a,null,n),r.a.createElement(oa.a,{className:n?null:e.noTitlePadding},r.a.createElement(zt.a,null,i)),(o||l||s)&&r.a.createElement(la.a,null,o,l,s))}}]),a}(n.Component),Mt=Object(We.a)(function(e){return{noTitlePadding:{paddingTop:e.spacing(3)}}})(Gt);function Ht(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Vt(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ht(t,!0).forEach(function(a){Object(ea.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ht(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var Yt=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.signedIn,t=e.dialogs,n=t.signUpDialog,i=t.signInDialog,o=t.settingsDialog,l=t.signOutDialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(aa.a,{xsDown:!0},!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pa,Object.assign({dialogProps:n.dialogProps},n.props)),r.a.createElement(ja,Object.assign({dialogProps:i.dialogProps},i.props)))),r.a.createElement(aa.a,{smDown:!0},a&&r.a.createElement(_t,Object.assign({dialogProps:o.dialogProps},o.props))),r.a.createElement(aa.a,{smUp:!0},!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pa,Object.assign({dialogProps:Vt({fullScreen:!0},n.dialogProps)},n.props)),r.a.createElement(ja,Object.assign({dialogProps:Vt({fullScreen:!0},i.dialogProps)},i.props)))),r.a.createElement(aa.a,{mdUp:!0},a&&r.a.createElement(_t,Object.assign({dialogProps:Vt({fullScreen:!0},o.dialogProps)},o.props))),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Mt,Object.assign({dialogProps:l.dialogProps},l.props))))}}]),a}(n.Component);Yt.defaultProps={signedIn:!1};var Jt=Yt,Qt=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).openDialog=function(e,a){var n=t.state[e];n&&void 0!==n.open&&(n.open=!0,t.setState({dialog:n},a))},t.closeDialog=function(e,a){var n=t.state[e];n&&void 0!==n.open&&(n.open=!1,t.setState({dialog:n},a))},t.signOut=function(){t.setState({performingAction:!0},function(){P.signOut().then(function(){t.closeDialog("signOutDialog",function(){t.openSnackbar("Signed out")})}).catch(function(e){e.code;var a=e.message;t.openSnackbar(a)}).finally(function(){t.setState({performingAction:!1})})})},t.openSnackbar=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0;t.setState({snackbar:{autoHideDuration:p()(e).time*a,message:e,open:!0}},function(){n&&"function"===typeof n&&n()})},t.closeSnackbar=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=t.state.snackbar;t.setState({snackbar:{message:e?"":a.message,open:!1}})},t.state={user:null,userData:null,theme:Ae.defaultTheme,signedIn:!1,ready:!1,performingAction:!1,signUpDialog:{open:!1},signInDialog:{open:!1},settingsDialog:{open:!1},signOutDialog:{open:!1},snackbar:{autoHideDuration:0,message:"",open:!1}},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.user,n=a.userData,i=a.theme,o=a.signedIn,l=a.ready,s=a.performingAction,c=this.state,m=c.signUpDialog,d=c.signInDialog,u=c.settingsDialog,p=c.signOutDialog,E=this.state.snackbar;return r.a.createElement(h.a,{theme:i},r.a.createElement(f.a,null),!l&&r.a.createElement(Pe,null),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{signedIn:o,performingAction:s,user:t,userData:n,onSignUpClick:function(){return e.openDialog("signUpDialog")},onSignInClick:function(){return e.openDialog("signInDialog")},onSettingsClick:function(){return e.openDialog("settingsDialog")},onSignOutClick:function(){return e.openDialog("signOutDialog")}}),r.a.createElement($e,{signedIn:o}),r.a.createElement(Jt,{signedIn:o,dialogs:{signUpDialog:{dialogProps:{open:m.open,onClose:function(a){e.closeDialog("signUpDialog"),a&&"function"===typeof a&&a()}},props:{performingAction:s,openSnackbar:this.openSnackbar}},signInDialog:{dialogProps:{open:d.open,onClose:function(a){e.closeDialog("signInDialog"),a&&"function"===typeof a&&a()}},props:{performingAction:s,openSnackbar:this.openSnackbar}},settingsDialog:{dialogProps:{open:u.open,disableEscapeKeyDown:!0,onClose:function(){return e.closeDialog("settingsDialog")}},props:{user:t,userData:n,theme:i,openSnackbar:this.openSnackbar}},signOutDialog:{dialogProps:{open:p.open,onClose:function(){return e.closeDialog("signOutDialog")}},props:{title:"Sign out?",contentText:"While signed out you are unable to manage your profile and conduct other activities that require you to be signed in.",dismissiveAction:r.a.createElement(g.a,{color:"primary",onClick:function(){return e.closeDialog("signOutDialog")}},"Cancel"),confirmingAction:r.a.createElement(g.a,{color:"primary",disabled:s,variant:"contained",onClick:this.signOut},"Sign Out")}}}}),r.a.createElement(v.a,{autoHideDuration:E.autoHideDuration,message:E.message,open:E.open,onClose:this.closeSnackbar})))}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.removeAuthStateChangedObserver=C.onAuthStateChanged(function(a){if(!a)return e.removeReferenceListener&&e.removeReferenceListener(),void(e.mounted&&e.setState({user:null,userData:null,signedIn:!1,ready:!0},function(){Ae.resetTheme()}));var t=a.uid;if(!t)return e.removeReferenceListener&&e.removeReferenceListener(),void(e.mounted&&e.setState({user:null,userData:null,signedIn:!1,ready:!0},function(){Ae.resetTheme()}));var n=w.collection("users").doc(t);if(!n)return e.removeReferenceListener&&e.removeReferenceListener(),void(e.mounted&&e.setState({user:null,userData:null,signedIn:!1,ready:!0},function(){Ae.resetTheme()}));e.removeReferenceListener=n.onSnapshot(function(t){if(!t.exists)return e.removeReferenceListener&&e.removeReferenceListener(),void(e.mounted&&e.setState({user:null,userData:null,signedIn:!1,ready:!0},function(){Ae.resetTheme()}));var n=t.data();if(!n)return e.removeReferenceListener&&e.removeReferenceListener(),void(e.mounted&&e.setState({user:null,userData:null,signedIn:!1,ready:!0},function(){Ae.resetTheme()}));n.theme?e.setState({theme:Ae.createTheme(n.theme)}):Ae.resetTheme(),e.mounted&&e.setState({user:a,userData:n,signedIn:!0,ready:!0})},function(a){e.removeReferenceListener&&e.removeReferenceListener(),e.mounted&&e.setState({user:null,userData:null,signedIn:!1,ready:!0},function(){Ae.resetTheme();a.code;var t=a.message;e.openSnackbar(t)})})})}},{key:"componentWillUnmount",value:function(){this.removeAuthStateChangedObserver&&this.removeAuthStateChangedObserver(),this.removeReferenceListener&&this.removeReferenceListener(),this.mounted=!1}}]),a}(n.Component),Zt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xt(e,a){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(Qt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-material-ui-firebase",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var a="".concat("/react-material-ui-firebase","/service-worker.js");Zt?(!function(e,a){fetch(e).then(function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Xt(e,a)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Xt(a,e)})}}()}},[[175,1,2]]]);
//# sourceMappingURL=main.462b72d9.chunk.js.map